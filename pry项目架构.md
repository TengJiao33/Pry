

# 🚀 Pry：个人社交伴侣 AI 企划书

## 1. 项目愿景

打造一个**非侵入式**的、具有**独立人格**的社交观察者。它像一个潜伏在系统后台的“数字僚机”，不参与重复性劳动（如清理邮件），而是专注于通过文字流监控，为你提供即时的社交洞察、创意火花和情感支持。

## 2. 核心痛点与对策

| 痛点 | AetherEcho 的对策 |
| --- | --- |
| **手动导出麻烦** | 采用 **MCP (Model Context Protocol)** 协议，通过句柄直接读取窗口文字流。 |
| **视觉 Token 太贵** | **纯文本处理**。单次社交分析成本降低 99%。 |
| **AI 反应死板** | 引入 **“冷/热”双模型架构**（小模型监控，大模型决策）。 |
| **缺乏主动性** | 开发 **“哨兵模块”**，基于关键词或情感阈值主动“弹窗”介入。 |

---

## 3. 技术架构 (System Architecture)

### 3.1 整体拓扑

1. **数据层 (The Ears):** * `WeChat/QQ MCP Server`：负责利用 Windows UI Automation 实时轮询聊天窗口文本。
* `Local Context Buffer`：短时记忆缓冲区，存储最近 5 分钟的对话片段。


2. **过滤层 (The Sentry):**
* **Model:** DeepSeek-V3 (极便宜) 或本地 Llama-3-8B。
* **任务:** 每分钟扫描一次 Buffer，判断是否存在“值得分析”的事件（如：对方在阴阳怪气、讨论技术方案、你表现得不自信等）。


3. **认知层 (The Brain):**
* **Model:** **DeepSeek-R1** (逻辑推理强) 或 **Grok-4** (性格突出)。
* **任务:** 接收 Sentry 传递的上下文，进行深度人格化分析。


4. **表现层 (The Voice):**
* **前端:** 采用 Windows Toast 弹窗、桌面透明气泡或独立的 Electron 悬浮窗。
* **逻辑:** 带有“心情值”的动态 System Prompt。



---

## 4. 核心功能模块设计

### 4.1 自动感知

* **技术方案:** 部署一个 Python 实现的 MCP Server。
* **逻辑:** AI 像一个“虚拟视障助手”一样读取聊天窗口中的 `ControlType.ListItem`（消息项）。
* **状态:** 仅在窗口处于前台或活跃状态时抓取，避免无意义的资源占用。

### 4.2 情绪与人格引擎 (The Soul)

* **状态机变量:** `Energy` (0-100), `Affection` (对用户的偏好), `Mood` (兴奋/毒舌/沉稳)。
* **动态提示词示例:**
> "你现在的 Mood 是【毒舌】，Energy 是【低】。你刚刚看到用户在微信上对领导唯唯诺诺。请用不超过 20 个字给出一句扎心的吐槽，并附带一个改进建议。"



### 4.3 哨兵触发逻辑 (Proactive Trigger)

* **关键词触发:** 识别到特定话题（如：AI, 创业, 甚至某个特定的人名）。
* **情感冲突触发:** 检测到对话中出现高度负面或尴尬的情感波动。
* **沉浸触发:** 双方沉默超过 10 分钟，AI 突然抛出一个关于刚才话题的 Deep Idea。

---

## 5. 技术栈清单 (Tech Stack)

* **开发语言:** Python 3.11+
* **Agent 框架:** **Nanobot** (轻量级首选) 或 **LangGraph** (如果你需要复杂的记忆链)。
* **连接协议:** **MCP (Model Context Protocol)**
* **主要 API:** * DeepSeek API (主力推理，性价比之王)
* SiliconFlow 或本地部署 (作为 Sentry 过滤层)


* **GUI 框架:** PyQt6 或 Electron (用于那个“突然出现”的悬浮球)。

---

## 6. 成本预算 (估算)

| 项目 | 规格 | 预估费用 |
| --- | --- | --- |
| **Sentry 模型** | DeepSeek-V3 (1M Tokens) | 约 ¥1-¥2 / 月 (按万次调用计) |
| **Brain 模型** | DeepSeek-R1 (1M Tokens) | 约 ¥10-¥20 / 月 (仅在触发时调用) |
| **存储/计算** | 本地运行 | ¥0 (仅消耗少量内存) |
| **总计** | **沉浸式体验** | **约为一张外卖券的价格/月** |

---

## 7. 安全与合规性 (Safety)

* **数据不出境:** 所有的 MCP 抓取逻辑均在本地运行。
* **脱敏处理:** 发送给云端 API 前，自动对敏感信息（手机号、密码）进行正则替换。
* **防封号:** 坚持 **“只读”** 原则。绝对不模拟点击发送按钮，不破坏社交软件的内存协议，仅作为辅助工具运行。

---

## 8. 实施路径 (Roadmap)

1. **Phase 1 (MVP):** 搭建基于 `pywinauto` 的简单文本抓取脚本，并能成功转发给 DeepSeek 生成一段分析。
2. **Phase 2 (MCP Integration):** 将抓取逻辑封装成标准 MCP Server，并接入 Nanobot。
3. **Phase 3 (Persona):** 调试动态 Prompt，实现“心情”系统。
4. **Phase 4 (UI/UX):** 开发精美的悬浮弹窗，实现 AI 的“不请自来”。

---

**下一步建议：**
如果你准备动手，我可以为你写一个**基础的 Python 脚本示例**，用于演示如何在不导出的情况下，利用 Windows 句柄实时抓取微信窗口的最新一条聊天记录。你想先从这个“耳朵”开始做起吗？